!function(t){"use strict";let i=function(t,i){t.find(".tmpcoder-mini-cart").css({display:"none"});var n=0!=t.find(".tmpcoder-mini-cart-wrap").length?t.find(".tmpcoder-mini-cart-wrap").data("animation"):600;function a(){t.find(".tmpcoder-close-cart span").on("click",function(a){t.find(".tmpcoder-shopping-cart-inner-wrap").addClass("tmpcoder-mini-cart-slide-out"),t.find(".tmpcoder-mini-cart-slide-out").css("animation-speed",n),t.find(".tmpcoder-shopping-cart-wrap").fadeOut(n),i("body").removeClass("tmpcoder-mini-cart-sidebar-body"),setTimeout(function(){t.find(".tmpcoder-shopping-cart-inner-wrap").removeClass("tmpcoder-mini-cart-slide-out"),t.find(".tmpcoder-mini-cart").css({display:"none"})},n+100)})}i("body").on("click",".mini-cart-plus, .mini-cart-minus",function(t){t.preventDefault();var n=i(this).siblings(".mini-cart-qty-input"),a=parseInt(n.val()),r=i(this).data("key");let e=i(this),c=e.closest(".mini-cart-qty-wrap"),o=c.find(".mini-cart-loader");i(this).hasClass("mini-cart-plus")?a++:a=a>1?a-1:1,n.val(a),o.show(),i.post(tmpcoder_plugin_script.ajax_url,{action:"tmpcoder_mini_cart_qty",key:r,qty:a},function(t){o.hide(),jQuery(document.body).trigger("wc_fragment_refresh"),jQuery(".woocommerce-Price-amount").html(t.data.cart_subtotal),jQuery(".tmpcoder-mini-cart-icon-count span").text(t.data.cart_count)})}),jQuery(document.body).on("wc_fragments_loaded wc_fragments_refreshed",function(){jQuery(".widget_shopping_cart_content .woocommerce-mini-cart-item").each(function(){let t=jQuery(this),i=t.data("cart_item_key"),n=t.find(".quantity").text().trim(),a=parseInt(n.split("\xd7")[0].trim());console.log(a),console.log(t);let r=`
                    <div class="mini-cart-quantity mini-cart-qty-wrap">
                        <button class="mini-cart-minus" data-key="${i}">-</button>
                        <input type="number" class="mini-cart-qty-input" value="${a}" data-key="${i}" min="1">
                        <button class="mini-cart-plus" data-key="${i}">+</button>
                        <span class="mini-cart-loader" style="display:none;"></span>
                    </div>
                `;t.find(".quantity").replaceWith(r)})}),i("body").on("change",".mini-cart-qty-input",function(){var t=i(this),n=parseInt(t.val()),a=t.data("key");let r=i(this),e=r.closest(".mini-cart-qty-wrap"),c=e.find(".mini-cart-loader");n<1&&(n=1),c.show(),i.post(tmpcoder_plugin_script.ajax_url,{action:"tmpcoder_mini_cart_qty",key:a,qty:n},function(t){c.hide(),jQuery(document.body).trigger("wc_fragment_refresh"),jQuery(".woocommerce-Price-amount").html(t.data.cart_subtotal),jQuery(".tmpcoder-mini-cart-icon-count span").text(t.data.cart_count)})}),i("body").on("click",function(i){i.target.classList.value.includes("tmpcoder-mini-cart")||i.target.closest(".tmpcoder-mini-cart")||(t.hasClass("tmpcoder-mini-cart-slide")?t.find(".tmpcoder-mini-cart").slideUp(n):t.find(".tmpcoder-mini-cart").fadeOut(n))}),t.hasClass("tmpcoder-mini-cart-sidebar")&&(i("#wpadminbar").length&&t.find(".tmpcoder-mini-cart").css({"z-index":999999}),a(),t.find(".tmpcoder-shopping-cart-wrap").on("click",function(a){a.target.classList.value.includes("tmpcoder-shopping-cart-inner-wrap")||a.target.closest(".tmpcoder-shopping-cart-inner-wrap")||(t.find(".tmpcoder-shopping-cart-inner-wrap").addClass("tmpcoder-mini-cart-slide-out"),t.find(".tmpcoder-mini-cart-slide-out").css("animation-speed",n),t.find(".tmpcoder-shopping-cart-wrap").fadeOut(n),i("body").removeClass("tmpcoder-mini-cart-sidebar-body"),setTimeout(function(){t.find(".tmpcoder-shopping-cart-inner-wrap").removeClass("tmpcoder-mini-cart-slide-out"),t.find(".tmpcoder-mini-cart").css({display:"none"})},n+100))})),t.find(".tmpcoder-mini-cart").length&&(t.hasClass("tmpcoder-mini-cart-sidebar")||t.hasClass("tmpcoder-mini-cart-dropdown"))&&t.find(".tmpcoder-mini-cart-toggle-btn").on("click",function(a){a.stopPropagation(),a.preventDefault(),"none"===t.find(".tmpcoder-mini-cart").css("display")?(t.hasClass("tmpcoder-mini-cart-slide")?t.find(".tmpcoder-mini-cart").slideDown(n):t.find(".tmpcoder-mini-cart").fadeIn(n),t.hasClass("tmpcoder-mini-cart-sidebar")&&(t.find(".tmpcoder-shopping-cart-wrap").fadeIn(n),t.find(".tmpcoder-shopping-cart-inner-wrap").addClass("tmpcoder-mini-cart-slide-in"),t.find(".tmpcoder-mini-cart-slide-in").css("animation-speed",n),i("body").addClass("tmpcoder-mini-cart-sidebar-body")),setTimeout(function(){t.find(".tmpcoder-shopping-cart-inner-wrap").removeClass("tmpcoder-mini-cart-slide-in"),t.hasClass("tmpcoder-mini-cart-sidebar")&&t.find(".tmpcoder-woo-mini-cart").trigger("resize")},n+100)):t.hasClass("tmpcoder-mini-cart-slide")?t.find(".tmpcoder-mini-cart").slideUp(n):t.find(".tmpcoder-mini-cart").fadeOut(n)}),new MutationObserver(function(n){t.hasClass("tmpcoder-mini-cart-sidebar")&&a(),t.find(".woocommerce-mini-cart-item").on("click",".tmpcoder-remove-item-from-mini-cart",function(){i(this).closest("li").addClass("tmpcoder-before-remove-from-mini-cart")})}).observe(t[0],{childList:!0,subtree:!0})};t(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-product-mini-cart.default",i)})}(jQuery);