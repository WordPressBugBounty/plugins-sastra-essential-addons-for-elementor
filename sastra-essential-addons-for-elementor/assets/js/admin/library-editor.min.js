!function(e){"use strict";var t={loaded:!1,init:function(){window.elementor.on("preview:loaded",t.loadPreview)},loadPreview:function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/shortcode.default",function(e){e.find(".tmpcoder-template-edit-btn").on("click",t.renderPopup)}),window.elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-advanced-slider.default",function(e){e.find(".tmpcoder-template-edit-btn").on("click",t.renderPopup)}),window.elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-tabs.default",function(e){e.find(".tmpcoder-template-edit-btn").on("click",t.renderPopup)}),window.elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-elementor-template.default",function(e){e.find(".tmpcoder-template-edit-btn").on("click",t.renderPopup)}),window.elementorFrontend.hooks.addAction("frontend/element_ready/tmpcoder-content-toggle.default",function(e){e.find(".tmpcoder-template-edit-btn").on("click",t.renderPopup)})},renderPopup:function(o){t.getPopup().show(),e("#tmpcoder-template-editor-popup .dialog-message").html('<iframe src="'+e(this).data("permalink")+'&elementor" id="tmpcoder-template-edit-frame" width="100%" height="100%"></iframe>'),e("#tmpcoder-template-editor-popup .dialog-message").append('<div id="tmpcoder-template-editor-loading"><div class="elementor-loader-wrapper"><div class="elementor-loader"><div class="elementor-loader-boxes"><div class="elementor-loader-box"></div><div class="elementor-loader-box"></div><div class="elementor-loader-box"></div><div class="elementor-loader-box"></div></div></div><div class="elementor-loading-title">Loading</div></div></div>'),e("#tmpcoder-template-edit-frame").on("load",function(){e("#tmpcoder-template-editor-loading").fadeOut(300)}),e("#tmpcoder-template-editor-popup .dialog-close-button").css({right:"30px",width:"35px",height:"35px","line-height":"30px","border-radius":"50%","text-align":"center",opacity:"1","background-color":"#333","box-shadow":"1px 1px 3px 0 #000"}).html('<i class="eicon-close"></i>'),e("#tmpcoder-template-editor-popup .dialog-close-button i").css({"font-size":"15px",color:"#fff"}),e("#tmpcoder-template-editor-popup .dialog-close-button").on("click",function(){elementor.reloadPreview()})},getPopup:function(){return t.loaded||(this.loaded=elementor.dialogsManager.createWidget("lightbox",{id:"tmpcoder-template-editor-popup",closeButton:!0,hide:{onBackgroundClick:!1}})),t.loaded}};e(window).on("elementor:init",t.init);var o={init:function(){e("body").hasClass("elementor-editor-tmpcoder-popups")&&(window.elementor.on("preview:loaded",o.onPreviewLoad),window.elementor.on("preview:loaded",o.onPreviewChange),elementor.settings.page.model.on("change",o.onControlChange))},onPreviewLoad:function(){setTimeout(function(){e("#elementor-panel-footer-settings").trigger("click")},2e3),o.settingsNotification(),window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(e){var t=e.closest(".tmpcoder-template-popup");o.fixPopupLayout(t)})},onPreviewChange:function(){},onControlChange:function(t){var o=document.getElementById("elementor-preview-iframe"),n=e(".tmpcoder-template-popup",o.contentDocument||o.contentWindow.document);if(t.changed.hasOwnProperty("popup_height"),t.changed.hasOwnProperty("popup_display_as")&&("notification"===t.changed.popup_display_as?n.addClass("tmpcoder-popup-notification"):n.removeClass("tmpcoder-popup-notification")),t.changed.hasOwnProperty("popup_display_as"),t.changed.hasOwnProperty("popup_animation")){var i=n.find(".tmpcoder-popup-container");i.removeAttr("class"),i.addClass("tmpcoder-popup-container animated "+t.changed.popup_animation)}},fixPopupLayout:function(e){var t=o.getDocumentSettings();e.find(".tmpcoder-popup-container-inner").hasClass("ps")||new PerfectScrollbar(e.find(".tmpcoder-popup-container-inner")[0],{suppressScrollX:!0}),"notification"===t.popup_display_as&&e.addClass("tmpcoder-popup-notification")},getDocumentSettings:function(){var e={},t=elementor.settings.page.model;return jQuery.each(t.getActiveControls(),function(o){e[o]=t.attributes[o]}),e},settingsNotification:function(){!((JSON.parse(localStorage.getItem("TmpcoderPopupEditorNotification"))||{})+6048e5>=Date.now())&&(e("body").append('				<div id="tmpcoder-template-settings-notification">					<h4><i class="eicon-info-circle"></i><span>Please Note</span></h4>					<p>Click here to access <strong>Popup Settings</strong>.</p>					<i class="eicon-close"></i>				</div>			').hide().fadeIn(),e("#tmpcoder-template-settings-notification .eicon-close").on("click",function(){e("#tmpcoder-template-settings-notification").fadeOut(),localStorage.setItem("TmpcoderPopupEditorNotification",Date.now())}))}};e(window).on("elementor:init",o.init);var n={init:function(){e("body").hasClass("elementor-editor-tmpcoder-theme-builder")&&window.elementor.on("preview:loaded",n.onPreviewLoad)},onPreviewLoad:function(){setTimeout(function(){e("#elementor-panel-footer-settings").trigger("click")},500),n.settingsNotification(),e("#elementor-panel-footer-settings").on("click",function(){setTimeout(function(){e(".elementor-control-submit_preview_changes").on("click",function(){e("#elementor-panel-saver-button-publish").trigger("click"),e("#elementor-preview-loading").show();var t=setInterval(function(){e("html").hasClass("nprogress-busy")||(location.reload(),clearInterval(t))},500)})})})},settingsNotification:function(){!((JSON.parse(localStorage.getItem("TmpcoderTemplateEditorNotification"))||{})+6048e5>=Date.now())&&setTimeout(function(){e("body").append('				<div id="tmpcoder-template-settings-notification">					<h4><i class="eicon-info-circle"></i><span>Please Note</span></h4>					<p>You can change <strong>Preview Settings</strong> here.</p>					<i class="eicon-close"></i>				</div>			').hide().fadeIn(),e(document).on("click",function(){e("#tmpcoder-template-settings-notification").fadeOut()}),e("#tmpcoder-template-settings-notification .eicon-close").on("click",function(){e("#tmpcoder-template-settings-notification").fadeOut(),localStorage.setItem("TmpcoderTemplateEditorNotification",Date.now())})},1e3)}};e(window).on("elementor:init",n.init)}(jQuery);